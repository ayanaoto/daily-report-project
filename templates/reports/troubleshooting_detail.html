{% extends 'base.html' %}

{% block title %}{{ report.title }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1>{{ report.title }}</h1>
    <div>
        {% if report.author == request.user or request.user.is_superuser %}
        <a href="{% url 'troubleshooting_update' report.pk %}" class="btn btn-secondary">編集</a>
        <a href="{% url 'troubleshooting_delete' report.pk %}" class="btn btn-danger">削除</a>
        {% endif %}
    </div>
</div>

<div class="card">
    <div class="card-body">
        <h5 class="card-title">場所・機器</h5>
        <p class="card-text bg-light p-2 rounded">{{ report.location|linebreaksbr }}</p>
        <hr>
        <h5 class="card-title">症状・問題</h5>
        <p class="card-text bg-light p-2 rounded">{{ report.symptom|linebreaksbr }}</p>
        <hr>
        <h5 class="card-title">対応・解決策</h5>
        <p class="card-text bg-light p-2 rounded">{{ report.solution|linebreaksbr }}</p>
        <hr>
        <p class="card-text"><small class="text-muted"><strong>キーワード:</strong> {{ report.keywords|default:"未設定" }}</small></p>
    </div>
    <div class="card-footer text-muted">
        報告者: {{ report.author.username|default:"不明" }} | 最終更新: {{ report.updated_at|date:"Y/m/d H:i" }}
    </div>
</div>

<a href="{% url 'troubleshooting_list' %}" class="btn btn-outline-secondary mt-3">一覧に戻る</a>
{% endblock %}