{% extends 'base.html' %}

{% block title %}{{ object.title }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1>{{ object.title }}</h1>
    <div>
        {% if object.author == request.user or request.user.is_superuser %}
        <a href="{% url 'reports:troubleshooting_update' object.pk %}" class="btn btn-secondary">編集</a>
        <a href="{% url 'reports:troubleshooting_delete' object.pk %}" class="btn btn-danger">削除</a>
        {% endif %}
    </div>
</div>

<div class="card">
    <div class="card-body">
        <h5 class="card-title">場所・機器</h5>
        <p class="card-text bg-light p-2 rounded">{{ object.location|linebreaksbr }}</p>
        <hr>
        <h5 class="card-title">症状・問題</h5>
        <p class="card-text bg-light p-2 rounded">{{ object.symptom|linebreaksbr }}</p>
        <hr>
        <h5 class="card-title">対応・解決策</h5>
        <p class="card-text bg-light p-2 rounded">{{ object.solution|linebreaksbr }}</p>
        <hr>
        <p class="card-text"><small class="text-muted"><strong>キーワード:</strong> {{ object.keywords|default:"未設定" }}</small></p>
    </div>
    <div class="card-footer text-muted">
        報告者: {{ object.author.username|default:"不明" }} | 最終更新: {{ object.updated_at|date:"Y/m/d H:i" }}
    </div>
</div>

<a href="{% url 'reports:troubleshooting_list' %}" class="btn btn-outline-secondary mt-3">一覧に戻る</a>
{% endblock %}